<% let pageSelector = pageContent.selector %>
<% if (pageSelector) { %>
    <label for="pageSelector"><%= pageSelector.label %></label>
    <select id="pageSelector">
        <script>
            function selectPage(e) {
                const selectedPage = e.target.value;
                if (selectedPage) {
                    window.location = selectedPage;
                }
            }

            document.querySelector('#pageSelector').addEventListener('change', selectPage)
        </script>

        <% const allItems = [
            {label: pageSelector.selectedItem},
            ...pageSelector.items
        ];

        allItems.forEach(item => {
        if (item.label === pageSelector.selectedItem) { %>
            <option selected="selected"><%= item.label %></option>
        <% } else { %>
            <% const itemHref = item.page ? encodeURI(pagePath + item.page) : item.doc_url || item.link %>
            <% const itemIsInternal = item.internal %>
            <% if (hasGuidewireEmail || (!hasGuidewireEmail && !itemIsInternal)) { %>
                <option value="<%= itemHref %>">
                    <%= item.label %>
                </option>
            <% } %>
        <% }}) %>
    </select>
<% } %>


