
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="If you add a custom entity or entity extension to the archive domain graph, you must not violate any of the rules that govern the ownership relationships in the graph. Otherwise, you can cause graph ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="reference" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="r_fy2904102" /><meta name="DC.language" content="en-US" /><title>Resolving issues with custom archive entities</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="r_fy2904102" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="r_fy2904102__fy2904102">

<h1 class="title topictitle1" id="r_fy2904102__fy2904102">Resolving issues with custom archive entities</h1>
<div class="body refbody">
<section class="section">
<p class="p">If you add a custom entity or entity extension
to the archive domain graph, you must not violate any of the rules that
govern the ownership relationships in the graph. Otherwise, you can cause
graph validation errors that can prevent the <span class="keyword">GenericCenter</span> server from starting.</p>
</section>

    <section class="section html-only">
            <p class="p">This section is html-only.</p>
        <p class="p">The following list describes how to resolve the common archive domain graph issues.</p>
        <table class="table" id="r_fy2904102__234"><colgroup><col /><col /><col /></colgroup><thead class="thead">
                        <tr>
                            <th class="entry" id="r_fy2904102__234__entry__1">
                                <p class="p">Issue</p>
                            </th>
                            <th class="entry" id="r_fy2904102__234__entry__2">
                                <p class="p">Resolution</p>
                            </th>
                            <th class="entry" id="r_fy2904102__234__entry__3"><span class="first-in-cell">More information</span></th>
                        </tr>
                    </thead><tbody class="tbody">
                        <tr>
                            <td class="entry" headers="r_fy2904102__234__entry__1 ">
                                <p class="p">Custom entity does not implement correct delegate</p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__2 ">
                                <p class="p">Ensure that all custom archive entities implement the
                                        <code class="ph codeph">Extractable</code> delegate. Also, ensure that any
                                    custom entity type you create that can be both inside and
                                    outside the archive domain graph implements the
                                        <code class="ph codeph">OverlapTable</code> delegate. </p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__3 ">
                                <ul class="ul" id="r_fy2904102__ul_g2l_nzc_f1b">
                                    <li class="li"><a class="xref" href="c_fy2501568.html#c_fy2501568">Archive entities and the OverlapTable delegate</a></li>
                                    <li class="li"><a class="xref" href="c_fy3116126.html#c_fy3116126">Archive entities and the EffDated delegate</a></li>
                                    <li class="li"><a class="xref" href="c_fy2500393.html#c_fy2500393">Archive entities and the Extractable delegate</a></li>
                                    <li class="li"><a class="xref" href="c_fy2964856.html#c_fy2964856">Archive entity incorrect in graph</a></li>
                                    <li class="li"><a class="xref" href="c_fy2966669.html#c_fy2966669">Overlap data entity not handled properly</a></li>
                                </ul>

                            </td>
                        </tr>
                        <tr>
                            <td class="entry" headers="r_fy2904102__234__entry__1 ">
                                <p class="p">Foreign key ownership relationships cause cycle in graph</p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__2 ">
                                <p class="p">Reverse the link ownership direction on one of the foreign keys
                                    that cause the ownership cycle error. To change a link
                                    direction, use the <code class="ph codeph">archivingOwner</code> attribute on
                                    a foreign key. </p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__3 ">
                                <ul class="ul">
                                    <li class="li"><a class="xref" href="c_fy2484467.html#c_fy2484467">Understanding GenericCenter entity ownership</a></li>
                                </ul>

                            </td>
                        </tr>
                        <tr>
                            <td class="entry" headers="r_fy2904102__234__entry__1 ">
                                <p class="p">Foreign key link from outside graph to archive root in graph</p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__2 ">
                                <p class="p">Set the <code class="ph codeph">archivingOwner</code> attribute on the foreign
                                    key to <code class="ph codeph">source</code>. This prevents <span class="keyword">GenericCenter</span> from attempting to archive
                                    the linked entity during an archive operation.</p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__3 ">
                                <ul class="ul">
                                    <li class="li"><a class="xref" href="c_fy2964856.html#c_fy2964856">Archive entity incorrect in graph</a></li>
                                </ul>

                            </td>
                        </tr>
                        <tr>
                            <td class="entry" headers="r_fy2904102__234__entry__1 ">
                                <p class="p">Foreign key link from outside graph points to non-root archive
                                    entity in graph</p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__2 ">
                                <p class="p">Do the following:</p>
                                <ul class="ul">
                                    <li class="li">Set the <code class="ph codeph">archivingOwner</code> attribute on the
                                        foreign key to <code class="ph codeph">none</code>. </li>
                                    <li class="li">Add a <code class="ph codeph">CrossDomainPlublicID</code> tag to the
                                        foreign key that specifies an alternate column to hold the
                                            <code class="ph codeph">PublicID</code> of the entity instance </li>
                                </ul>

                                <p class="p">The <code class="ph codeph">CrossDomainPlublicID</code> tag forces the creation
                                    of an additional column on the entity to store the
                                        <code class="ph codeph">publicID</code> of the target archive entity.
                                        <span class="keyword">GenericCenter</span> requires this ID
                                    in order to re-establish the foreign key link upon retrieval of
                                    the <code class="ph codeph">Claim</code><code class="ph codeph">PolicyPeriod</code> graph instance. </p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__3 ">
                                <ul class="ul">
                                    <li class="li"><a class="xref" href="r_dz3315244.html#r_dz3315244">&lt;tag&gt;</a></li>
                                    <li class="li"><a class="xref" href="r_fy2940712.html#r_fy2940712">Defining a cross-domain tag</a></li>
                                </ul>

                            </td>
                        </tr>
                        <tr>
                            <td class="entry" headers="r_fy2904102__234__entry__1 ">
                                <p class="p">Link points to an entity type that is sometimes in the graph and,
                                    at other times, outside the graph</p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__2 ">
                                <p class="p">Ensure that your custom entity type implements both the
                                        <code class="ph codeph">OverlapTable</code> and
                                        <code class="ph codeph">Extractable</code> delegates. In certain cases,
                                    use the methods on your implementation of the
                                        <code class="ph codeph">IBCArchivingPlugin</code> plugin to designate a
                                    link to the entity type as safe.</p>
                            </td>
                            <td class="entry" headers="r_fy2904102__234__entry__3 ">
                                <ul class="ul" id="r_fy2904102__ul_sz5_vzc_f1b">
                                    <li class="li"><a class="xref" href="c_fy2966669.html#c_fy2966669">Overlap data entity not handled properly</a></li>
                                    <li class="li html-only"><a class="xref" href="c_gd2739222.html#c_gd2739222">Archiving links plugin</a></li>
                                    
                                </ul>

                            </td>
                        </tr>
                    </tbody></table>
        
    </section>
    <section class="section">
        <p class="p">It is possible that there are other issues
            with the data model that you must resolve before you can successfully
            archive your custom entity type. For example, suppose that an entity
            outside the graph has a foreign key that points to an non-root entity
            inside the graph. This foreign key has its <code class="ph codeph">nullok</code> attribute set to <code class="ph codeph">false</code>. As such, it is not possible
            to use a <code class="ph codeph">CrossDomainLink</code>
            tag to resolve the issue. Instead, set the <code class="ph codeph">nullok</code> attribute on the foreign
            key to <code class="ph codeph">true</code> to resolve
            the issue.</p>        
    </section>
    <section class="section">
        <p class="p seealso">See also</p>
        <ul class="ul">
            <li seealso-li="yes" class="li"><a class="xref" href="c_fy2756485.html#c_fy2756485">Validation of the archive domain graph</a></li>
            <li seealso-li="yes" class="li"><a class="xref" href="c_fy2940205.html#c_fy2940205">About archive graph error messages</a></li>
            <li seealso-li="yes" class="li"><a class="xref" href="c_fy2534554.html#c_fy2534554">Viewing the archive domain graph</a></li>
            <li seealso-li="yes" class="li"><a class="xref" href="c_fy2824872.html#c_fy2824872">Using archive logging</a></li>
            <li seealso-li="yes" class="li html-only"><a class="xref" href="c_gd2739308.html#c_gd2739308">Understanding archiving links in GenericCenter</a></li>
            </ul>

    </section>
</div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 21, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>