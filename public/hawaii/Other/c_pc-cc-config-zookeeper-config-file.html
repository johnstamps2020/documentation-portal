
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="In zoo.cfg , you configure a single ZooKeeper member server. Each ZooKeeper member within an ensemble has its own copy of zoo.cfg . The zoo.cfg file configures a ZooKeeper server with its client port. ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="concept" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="c_fe3714832" /><meta name="DC.language" content="en-US" /><title>Configuring zoo.cfg</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="c_fe3714832" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="c_fe3714832__fe3714832">

<h1 class="title topictitle1" id="c_fe3714832__fe3714832"><span class="ph">Configuring <code class="ph codeph">zoo.cfg</code> </span></h1>
<div class="body conbody">
<p class="p">In <code class="ph codeph">zoo.cfg</code>, you configure a single ZooKeeper member server. Each ZooKeeper member within an ensemble has its own copy of <code class="ph codeph">zoo.cfg</code>. The <code class="ph codeph">zoo.cfg</code> file configures a ZooKeeper server with its client port. <span class="keyword">GenericCenter</span> and the Guidewire Solr Extension connect through the <dfn class="term">client port</dfn> to the ZooKeeper server and the ensemble. The file also lists the members of the ensemble, including their host names and ensemble ports. The members of the ensemble connect with each other through the <dfn class="term">ensemble ports</dfn>.</p>
<div class="p">Important parameters that you can specify in <code class="ph codeph">zoo.cfg</code> include the following:
<ul class="ul"><li class="li"><code class="ph codeph">tickTime</code> – Unit of time in milliseconds for heartbeats and other timing parameters. </li><li class="li"><code class="ph codeph">initLimit</code> – Timeout limit for followers to connect to a leader.</li><li class="li"><code class="ph codeph">syncLimit</code> – How far out of date a follower can be from a leader.</li><li class="li"><code class="ph codeph">dataDir</code> – Location to store the ZooKeeper coordination
          database, the transaction logs, and the <code class="ph codeph">myID</code> file that specifies the ordinal number for the
          server within the ensemble. For example: <ul class="ul">
            <li class="li"><strong class="ph b riruninheader">On Unix</strong> –
                <code class="ph codeph">/opt/zoo/data</code>
            </li>
            <li class="li"><strong class="ph b riruninheader">On Windows</strong> –
                <code class="ph codeph">C:\opt\zoo\data</code>
            </li>
          </ul>
The directory stores only ZooKeeper data and client-uploaded data. The latter data includes the SolrCloud
          global configuration and the core configuration. Otherwise, the directory stores no Guidewire Solr Extension
          data. </li><li class="li"><code class="ph codeph">dataLogDir</code> – Location to store the transaction logs. If you do not specify <code class="ph codeph">dataLogDir</code>, the server stores transaction logs in the directory specified by <code class="ph codeph">dataDir</code>. To reduce latency on updates, use <code class="ph codeph">dataLogDir</code> to specify a logging directory on a dedicated logging device. </li><li class="li"><code class="ph codeph">clientPort</code> – The port on which to listen for connection requests from <span class="keyword">GenericCenter</span> and Guidewire Solr Extension servers. The value for <code class="ph codeph">clientPort</code> must match the port specified for the server in the <span class="keyword parmname">zkhosts</span> parameter of <span class="ph filepath">solrserver-config.xml</span>. The port defaults to 2181 in both <code class="ph codeph">zoo.cfg</code> and <span class="ph filepath">solrserver-config.xml</span>. </li><li class="li"><code class="ph codeph">server.</code><var class="keyword varname">N</var> – For each member of a ZooKeeper ensemble, its host name, its ensemble port for peer communication, and its ensemble port for leader election. A member server finds its ensemble ports in the membership list by matching <var class="keyword varname">N</var> with the numerical value in the <code class="ph codeph">myID</code> file, located in the directory specified by <code class="ph codeph">dataDir</code>.</li></ul>
</div>


<p class="p">The following example <code class="ph codeph">zoo.cfg</code> file configures an ensemble of
            three SolrCloud servers in a ZooKeeper ensemble. Each server runs on its own host, so
            all members listen for connections from <span class="keyword">GenericCenter</span>
            through the same client port. The parameter <span class="keyword parmname">clientPort</span> is commented
            out in the example because port 2181 is the default. Because each member server is on
            its own host, they all use the same ensemble ports for peer communication and leader
            election. Such ensemble ports can include 2888 and 3888.</p>
<pre class="pre codeblock"><code>tickTime=2000
initLimit=10
syncLimit=5
dataDir=/opt/zoo/data
# clientPort=2181
server.1=gwsolr1:2888:3888
server.2=gwsolr2:2888:3888
server.3=gwsolr3:2888:3888</code></pre>
<p class="p">You can find a copy of <code class="ph codeph">zoo.cfg</code> in Studio by navigating
in the <span class="keyword wintitle">Project</span> window
to <span class="ph menucascade"><span class="ph uicontrol">configuration</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">config</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">solr</span></span>. Generally, the members servers
in a ZooKeeper ensemble use the same copy of the file. Use the copy in
Studio as you master copy and deploy it yourself to the ZooKeeper home
directory on the host of each member server. </p>
<section class="section"><h2 class="title sectiontitle"><span class="ph"><code class="ph codeph">myID</code> </span></h2><p class="p">Each ZooKeeper member
server has an assigned ordinal number. The <code class="ph codeph">myID</code> file for each member specifies
its ordinal number. </p>
<p class="p">The <code class="ph codeph">myID</code> file is an ASCII text file
that resides in the directory specified by the <span class="keyword parmname">dataDir</span> parameter in the <code class="ph codeph">zoo.cfg</code>. For example, store each
version of <code class="ph codeph">myID</code> in the
following directory:</p>
<ul class="ul">
<li class="li"><strong class="ph b riruninheader">On Unix</strong> – <code class="ph codeph">/opt/zoo/data</code> </li>
<li class="li"><strong class="ph b riruninheader">On Windows</strong> – <code class="ph codeph">C:\opt\zoo\data</code> </li>
</ul>

<p class="p">The member server uses the ordinal
number in its <code class="ph codeph">myID</code> file
to locate its assigned ensemble ports in its copy of <code class="ph codeph">zoo.cfg</code>. </p>
<p class="p seealso">See also</p>
<ul class="ul"><li seealso-li="yes" class="li">For complete information on configuring and administering a SolrCloud cluster in
                    a ZooKeeper ensemble, consult the Apache Solr and ZooKeeper documentation at the
                    following respective links:
                    <pre class="pre codeblock"><code>https://archive.apache.org/dist/lucene/solr/ref-guide/apache-solr-ref-guide-4.10.pdf
https://zookeeper.apache.org/doc/r3.1.2/zookeeperAdmin.html</code></pre></li></ul>

</section>






</div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 21, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>