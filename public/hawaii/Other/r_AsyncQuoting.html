
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="Code AsyncQuoting Categories None Implementation Work queue Class AsyncQuotingWorkQueue.gs The Asynchronous Quoting work queue rates and quotes the current policy period asynchronously. If two-step ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="reference" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f" /><meta name="DC.language" content="en-US" /><title>Asynchronous Quoting work queue</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Asynchronous Quoting work queue</h1>
  <div class="body refbody">
    <table class="table" id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__cp4921981"><colgroup><col /><col /></colgroup><tbody class="tbody">
          <tr>
            <td class="entry">
              <p class="p"><strong class="ph b">Code</strong></p>
            </td>
            <td class="entry">
              <p class="p"><code class="ph codeph">AsyncQuoting</code></p>
            </td>
          </tr>
          <tr>
            <td class="entry">
              <p class="p"><strong class="ph b">Categories</strong></p>
            </td>
            <td class="entry"><span class="first-in-cell">None</span></td>
          </tr>
          <tr>
            <td class="entry">
              <p class="p"><strong class="ph b">Implementation</strong></p>
            </td>
            <td class="entry">
              <p class="p">Work queue</p>
            </td>
          </tr>
          <tr>
            <td class="entry">
              <p class="p"><strong class="ph b">Class</strong></p>
            </td>
            <td class="entry">
              <p class="p"><span class="ph filepath">AsyncQuotingWorkQueue.gs</span></p>
            </td>
          </tr>
        </tbody></table>
    <section class="section">
      <p class="p" id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__async-quoting-work-queue_start">The Asynchronous Quoting work queue rates
        and quotes the current policy period asynchronously. If two-step quoting is also enabled for
        a line of business, then this work queue quotes only. </p>
      <div class="p">PolicyCenter creates an asynchronous quoting work item
          (<code class="ph codeph">AsyncQuotingWorkItem</code>) when a user starts an asynchronous quote. This
        work queue processes these work items. <span class="keyword apiname">AsyncQuotingWorkItem</span> is an entity
        that delegates to <span class="keyword apiname">WorkItem</span>. This work item has properties for the following:<dl class="dl">
          
            <dt class="dt dlterm"><span class="keyword apiname">RequestingUser</span></dt>
            <dd class="dd">The user that requested the quote</dd>
          
          
            <dt class="dt dlterm"><span class="keyword apiname">PolicyPeriod</span></dt>
            <dd class="dd">The policy period to quote</dd>
          
        </dl></div>
      <p class="p" id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__async-quoting-work-queue_end">In <span class="ph filepath">work-queue.xml</span>, the
        default progress interval for asynchronous quoting work queue is 600,000 milliseconds (10
        minutes). Set this value to an interval longer than the expected time for an asynchronous
        quote to complete.</p>
    </section>
    <section class="section"><h2 class="title sectiontitle">How the Asynchronous Quoting work queue handles issues</h2>
      
      <p class="p">If the asynchronous quote generates issues, most of these
        issues appear in the <span class="keyword wintitle">Validation Results</span> tab next to the
          <span class="keyword wintitle">Activity</span> tab. This tab displays both product model synchronization
        issues (<code class="ph codeph">ProductModelSyncIssue</code>) and validation issues
          (<code class="ph codeph">ValidationIssue</code>). Other more serious issues, such as rating or
        unexpected errors, appear on the policy transaction screen.</p>
      <p class="p">The <span class="keyword apiname">AsyncQuotingWorkQueue.processWorkItem</span> method processes asynchronous
        quoting work items. If exceptions occur while processing work items, this method creates one
        or more issues, <span class="keyword apiname">AsyncQuoteIssue</span> entity instances, for each exception. The
          <span class="keyword apiname">MessageType</span> property contains the issue type, defined in the
          <code class="ph codeph">AsyncQuoteIssueType</code> typelist.</p>
      <div class="p">The <span class="keyword apiname">processWorkItem</span> method catches all exceptions thrown by the call to
          <span class="keyword apiname">JobProcess.requestQuote</span>. For each exception, PolicyCenter displays
          messages:<table class="table frame-all" id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb"><colgroup><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /></colgroup><thead class="thead">
              <tr>
                <th class="entry" id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__1"><span class="first-in-cell">Exception</span></th>
                <th class="entry" id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__2"><span class="first-in-cell">Message appears on...</span></th>
                <th class="entry" id="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__3"><span class="first-in-cell">Description</span></th>
              </tr>
            </thead><tbody class="tbody">
              <tr>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__1 "><code class="ph codeph">QuoteHaltedException</code></td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__2 "><span class="keyword wintitle">Validation Results</span> tab</td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__3 "></td>
              </tr>
              <tr>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__1 "><code class="ph codeph">EntityValidationException</code></td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__2 "><span class="keyword wintitle">Validation Results</span> tab</td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__3 "><span class="first-in-cell">This exception can contain multiple messages. The method creates one
                    </span><span class="keyword apiname">AsynchQuoteIssue</span> entity instance for each message. </td>
              </tr>
              <tr>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__1 "><code class="ph codeph">DisplayableException</code></td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__2 "><span class="first-in-cell">Policy transaction screen</span></td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__3 "><span class="first-in-cell">Displayable exceptions report failure such as out-of-sequence conflicts or
                  rating failure. </span><p class="p">When you click to display the asynchronous quoting activity,
                    PolicyCenter displays this exception on the policy transaction
                  screen.</p></td>
              </tr>
              <tr>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__1 "><span class="first-in-cell">Unexpected throwables</span></td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__2 "><span class="first-in-cell">Policy transaction screen</span></td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__3 "><span class="first-in-cell">Are transferred to </span><code class="ph codeph">DisplayableException</code> and appear on the
                  policy transaction screen. Unlike the expected exceptions, after catching the
                  throwable and creating the corresponding <span class="keyword apiname">AsyncQuoteIssue</span>
                  entity, the work queue retries the work item. If the throwable still occurs during
                  the last retry, the <span class="keyword apiname">AsyncQuotingWorkQueue#workItemFailed</span> method
                  creates a failure activity.</td>
              </tr>
              <tr>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__1 "><code class="ph codeph">UWAuthorityBlocksProgressException</code></td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__2 "><span class="first-in-cell">Policy transaction screen with a link to the </span><span class="keyword wintitle">Risk
                    Analysis</span> screen</td>
                <td class="entry" headers="xd_f037f79e2de1940b-6a0a7407-1618ba82746--7f5f__table_obt_sn2_wcb__entry__3 "><span class="first-in-cell">Normally, no message is created because the exception creates an underwriting
                  issue (</span><span class="keyword apiname">UWIssue</span>) for the exception. In the unlikely event that
                  an underwriting issue was not created, <span class="keyword apiname">processWorkItem</span>
                  generates an <span class="keyword apiname">AsyncQuoteIssue</span> instance. </td>
              </tr>
            </tbody></table></div>
    </section>
    <section class="section"><h2 class="title sectiontitle"><span class="keyword apiname">AsyncQuotingWorkItem</span> entity</h2>
      
      <div class="p">The asynchronous quoting work queue processes <span class="keyword apiname">AsyncQuotingWorkItem</span> work
        items. <span class="keyword apiname">AsyncQuotingWorkItem</span> is an entity that delegates to
          <span class="keyword apiname">WorkItem</span>. This work item has properties for the following:<dl class="dl">
          
            <dt class="dt dlterm"><span class="keyword apiname">RequestingUser</span></dt>
            <dd class="dd">The user that requested the quote</dd>
          
          
            <dt class="dt dlterm"><span class="keyword apiname">PolicyPeriod</span></dt>
            <dd class="dd">The policy period to quote</dd>
          
        </dl></div>
    </section>
    <section class="section"><h2 class="title sectiontitle"><span class="keyword apiname">AsyncQuoteIssue</span> entity</h2>
      
      <div class="p">The asynchronous quoting work queue generates messages when something notable occurs while
        processing the quote. Each <span class="keyword apiname">AsyncQuoteIssue</span> entity instance corresponds to
        a message. Messages can be informational, warnings, errors, or exceptions. Some of the
        properties of this entity are:<dl class="dl">
          
            <dt class="dt dlterm"><span class="keyword apiname">PolicyPeriod</span></dt>
            <dd class="dd">Foreign key to the policy period being quoted.</dd>
          
          
            <dt class="dt dlterm"><span class="keyword apiname">IssueType</span></dt>
            <dd class="dd">Issue type for messages generated by asynchronous quoting. Values are defined in the
                <code class="ph codeph">AsyncQuoteIssueType</code> typelist.</dd>
          
          
            <dt class="dt dlterm"><span class="keyword apiname">Description</span></dt>
            <dd class="dd">Description of the issue.</dd>
          
          
            <dt class="dt dlterm"><span class="keyword apiname">IssueSequence</span></dt>
            <dd class="dd">Indicates the order in which the issue was created.</dd>
          
        </dl></div>
    </section>
  </div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 21, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>