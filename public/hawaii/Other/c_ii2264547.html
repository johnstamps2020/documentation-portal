
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="From Java, you use reflection to access Gosu types. Reflection means asking the type system about types at run time to get data, set data, or invoke methods. Reflection is a powerful way to access ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="concept" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="c_ii2264547" /><meta name="DC.language" content="en-US" /><title>Using reflection to access Gosu classes from Java</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="c_ii2264547" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="c_ii2264547__ii2264547">

<h1 class="title topictitle1" id="c_ii2264547__ii2264547">Using reflection to access Gosu classes from Java</h1>
  <div class="body conbody">
    <p class="p">From Java, you use reflection to access Gosu types. <dfn class="term">Reflection</dfn> means asking the
      type system about types at run time to get data, set data, or invoke methods. Reflection is a
      powerful way to access type information at run time, but is not type safe. For example,
      language elements such as class names and method names are manipulated as
        <code class="ph codeph">String</code> values. Be careful to correctly type the names of classes and
      methods because the Java compiler cannot validate the names at compile time.</p>
    <p class="p">To use reflection from Java, you use the same utility class
        <span class="keyword apiname">gw.lang.reflect.ReflectUtil</span> that provides reflection to Gosu classes. The
        <span class="keyword apiname">ReflectUtil</span> class contains methods to get information about a class, get
      information about members (properties and methods), and invoke static class methods or
      instance methods.</p>
    <p class="p">To access Gosu API classes from Java, including the classes that you use to implement
      reflection, you must add <span class="ph filepath">gosu-core-api-<var class="keyword varname">release</var>.jar</span> to
      your Java project's class path.</p>
    <p class="p">To run the Java code that accesses Gosu classes, you must be in the <span class="keyword">GenericCenter</span> application context. You cannot run that code from your
      Java IDE because the IDE project does not initialize Gosu. When <span class="keyword">GenericCenter</span> starts, it performs that initialization. You can test the
      Java class and its methods by running them in Guidewire Studio with a running server.</p>
    <section class="section"><h2 class="title sectiontitle">Improving type safety in using reflection</h2>
      
      <div class="p">If you need to call methods on a Gosu class from Java, the
        following general steps increase the degree of type safety.<ol class="ol" id="c_ii2264547__d896e58">
          <li class="li">Create a Java interface containing only those methods that you need to call from Java.
            For getting and setting properties, define the interface using getter and setter
            methods, such as <code class="ph codeph">getMyField</code> and
            <code class="ph codeph">setMyField</code>.<pre class="pre codeblock"><code>package doc.example.reflection.java;

public interface MyJavaInterface {
  public String getMyField();
  public void setMyField(String value);
}</code></pre></li>
          <li class="li">Compile the interface and place the class file in its complete hierarchy in the
                <span class="ph filepath"><span class="keyword">GenericCenter</span>/modules/configuration/plugins/Gosu/classes</span> folder. If the interface
            extends a plugin interface, use the <span class="ph filepath"><span class="keyword">GenericCenter</span>/modules/configuration/plugins/shared/classes</span> folder instead.</li>
          <li class="li">Create a Gosu class that implements that interface. The Gosu class can contain
            additional methods as well as the interface
            methods.<pre class="pre codeblock"><code>package doc.example.reflection.gosu

class MyGosuClass implements doc.example.reflection.java.MyJavaInterface {
  public static function myMethod(input : String) : String {
    return "MyGosuClass returns the value ${input} as the result!"
  }

  override property get MyField():String{
    print("Get MyField called")
    return "test"
  }
  override property set MyField(value:String){ 
    print("hello")
  }
}</code></pre></li>
          <li class="li">In code that requires a reference to the object, use <code class="ph codeph">ReflectUtil</code> to
            create an instance of the Gosu class. The following approaches are available.<ul class="ul" id="c_ii2264547__d896e92">
              <li class="li">Create an instance by using the <span class="keyword apiname">constructGosuClassInstance</span>
                method in
                <code class="ph codeph">ReflectUtil</code>.<pre class="pre codeblock"><code>package doc.example.reflection.java;

import gw.lang.reflect.ReflectUtil;

public class MyJavaClass {

...

  public void accessGosuClass(String gosuClassName) {
    Object myGosuObject = ReflectUtil.constructGosuClassInstance(gosuClassName);
  }
}</code></pre></li>
              <li class="li">Define a method on an object that creates an instance, and call that method with
                the <span class="keyword apiname">invokeMethod</span> or <span class="keyword apiname">invokeStaticMethod</span> method
                in <code class="ph codeph">ReflectUtil</code>, as appropriate. <p class="p">To see a list of available
                  methods on the created instance, use
                      <code class="ph codeph">ReflectUtil.invokeMethod(<var class="keyword varname">myGosuObject</var>,
                    "@IntrinsicType").getClass().getMethods()</code>. Getting the value of a
                  property requires the <code class="ph codeph">@</code> symbol before the property name.
                  Alternatively, use the <span class="keyword apiname">get</span><var class="keyword varname">Property</var>
                  method.</p><div class="note note note_note"><span class="note__title">Note:</span> In both cases, any new object instances at compile time that are
                  returned by <span class="keyword apiname">ReflectUtil</span> have the type
                  <span class="keyword apiname">Object</span>.</div></li>
            </ul>
</li>
          <li class="li">Downcast the new instance to your new Java interface and assign a new variable of that
            interface
              type.<pre class="pre codeblock"><code>MyJavaInterface myJavaInterface = (MyJavaInterface) myGosuObject;</code></pre><p class="p">You
              now have an instance of an object that conforms to your interface.</p></li>
          <li class="li">Call methods on the Gosu instance as you normally would from Gosu. The getters,
            setters, and other method names are defined in your interface, so the method calls are
            type safe. For example, the Java compiler can protect against misspelled method
            names.<pre class="pre codeblock"><code>myJavaInterface.setMyField("New value");</code></pre></li>
        </ol></div>
    </section>
    <div class="example"><h2 class="title sectiontitle">Calling a Gosu method from Java by reflection</h2>
      
      <p class="p">If you need to call a method by reflection without using the previous technique, you can
        pass parameter values as additional arguments to the <span class="keyword apiname">invokeMethod</span> or
          <span class="keyword apiname">invokeStaticMethod</span> method in <code class="ph codeph">ReflectUtil</code>.</p>
      <div class="p">The following example Gosu class defines a static
        method:<pre class="pre codeblock"><code>package doc.example.reflection.gosu

class MySimpleGosuClass {
  public static function myMethod(input : String) : String {
    return "MyGosuClass method myMethod returns the value ${input} as the result!"
  }
}</code></pre></div>
      <div class="p">The following Java code calls the static method defined in <code class="ph codeph">MyGosuClass</code> by
        calling the <span class="keyword apiname">ReflectUtil.invokeStaticMethod</span>
        method:<pre class="pre codeblock"><code>package doc.example.reflection.java;

import gw.lang.reflect.ReflectUtil;

public class MyNonTypeSafeJavaClass {

  public void callStaticGosuMethod() {
    // Call a static method on a Gosu class
    Object o = ReflectUtil.invokeStaticMethod("doc.example.reflection.gosu.MySimpleGosuClass", "myMethod", "hello") ;

     // Print the return result
    System.out.println((String) o);
  }
}</code></pre></div>
    </div>
  </div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 20, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>