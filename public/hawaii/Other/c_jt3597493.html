
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="In some cases your web service may need additional context for incoming or outgoing information. For example, to get or set HTTP or SOAP headers. You can access this information in your implementation ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="concept" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="c_jt3597493" /><meta name="DC.language" content="en-US" /><title>Web service invocation context</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="c_jt3597493" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="c_jt3597493__jt3597493">

<h1 class="title topictitle1" id="c_jt3597493__jt3597493">Web service invocation context</h1>
<div class="body conbody">
<p class="p">In some cases your web service may need additional
context for incoming or outgoing information. For example, to get or
set HTTP or SOAP headers. You can access this information in your implementation
class by adding an additional method argument to your class of type <code class="ph codeph">WsiInvocationContext</code>. Make this
new object the last argument in the argument list.</p>
<p class="p">Unlike typical method arguments on your
implementation class, this method parameter does not become part of the
operation definition in the WSDL. Your web service code can use the <span class="keyword apiname">WsiInvocationContext</span> object to
get or set important information as needed.</p>
<div class="p">The following table lists the request properties on <span class="keyword apiname">WsiInvocationContext</span> objects and whether each
      property is writable. All of these properties are readable.<table class="table" id="c_jt3597493__jt3780776"><colgroup><col style="width:25%" /><col style="width:50%" /><col style="width:25%" /></colgroup><thead class="thead">
            <tr>
              <th class="entry" id="c_jt3597493__jt3780776__entry__1">
                <p class="p">Property</p>
              </th>
              <th class="entry" id="c_jt3597493__jt3780776__entry__2">
                <p class="p">Description</p>
              </th>
              <th class="entry" id="c_jt3597493__jt3780776__entry__3">
                <p class="p">Writable</p>
              </th>
            </tr>
          </thead><tbody class="tbody">
            <tr>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__1 ">
                <p class="p"><code class="ph codeph">HttpServletRequest</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__2 ">
                <p class="p">A servlet request of type <code class="ph codeph">HttpServletRequest</code>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__3 ">
                <p class="p">No</p>
              </td>
            </tr>
            <tr>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__1 ">
                <p class="p"><code class="ph codeph">MtomEnabled</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__2 ">
                <p class="p">A <code class="ph codeph">boolean</code> value that specifies whether to support sending MTOM attachments to the
                  web service client in any data returned from an API. The W3C Message Transmission Optimization
                  Mechanism (MTOM) is a method of efficiently sending binary data to and from web services as
                  attachments outside the normal response body. </p>
                <p class="p">If <code class="ph codeph">MtomEnabled</code> is <code class="ph codeph">true</code>, <span class="keyword">GenericCenter</span>
                  can send MTOM in results. Otherwise, MTOM is disabled. The default is <code class="ph codeph">false</code>. </p>
                <p class="p">This property does not affect MTOM data sent to a published web service. Incoming MTOM data is always
                  supported. </p>
                <p class="p">This property does not affect MTOM support where Gosu is the client to the web service request. See
                    <a class="xref" href="c_iv2015087.html#c_iv2015087">MTOM attachments with Gosu as web service client</a>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__3 ">
                <p class="p">Yes</p>
              </td>
            </tr>
            <tr>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__1 ">
                <p class="p"><code class="ph codeph">RequestHttpHeaders</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__2 ">
                <p class="p">Request headers of type <code class="ph codeph">HttpHeaders</code>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__3 ">
                <p class="p">No</p>
              </td>
            </tr>
            <tr>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__1 ">
                <p class="p"><code class="ph codeph">RequestEnvelope</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__2 ">
                <p class="p">Request envelope of type <code class="ph codeph">XmlElement</code>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__3 ">
                <p class="p">No</p>
              </td>
            </tr>
            <tr>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__1 ">
                <p class="p"><code class="ph codeph">RequestSoapHeaders</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__2 ">
                <p class="p">Request SOAP headers of type <code class="ph codeph">XmlElement</code>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__jt3780776__entry__3 ">
                <p class="p">No</p>
              </td>
            </tr>
          </tbody></table></div>
    <div class="p">The following table lists the response properties on <span class="keyword apiname">WsiInvocationContext</span> objects and whether
      each property is writable. All of these properties are readable.<table class="table" id="c_jt3597493__table_y4s_wt5_fhb"><colgroup><col style="width:25%" /><col style="width:50%" /><col style="width:25%" /></colgroup><thead class="thead">
            <tr>
              <th class="entry" id="c_jt3597493__table_y4s_wt5_fhb__entry__1">
                <p class="p">Property</p>
              </th>
              <th class="entry" id="c_jt3597493__table_y4s_wt5_fhb__entry__2">
                <p class="p">Description</p>
              </th>
              <th class="entry" id="c_jt3597493__table_y4s_wt5_fhb__entry__3">
                <p class="p">Writable</p>
              </th>
            </tr>
          </thead><tbody class="tbody">
            <tr>
              <td class="entry" headers="c_jt3597493__table_y4s_wt5_fhb__entry__1 ">
                <p class="p"><code class="ph codeph">ResponseHttpHeaders</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__table_y4s_wt5_fhb__entry__2 ">
                <p class="p">Response HTTP headers of type <code class="ph codeph">HttpHeaders</code>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__table_y4s_wt5_fhb__entry__3 ">
                <p class="p">The property value is read-only, but you can modify the object it references.</p>
              </td>
            </tr>
            <tr>
              <td class="entry" headers="c_jt3597493__table_y4s_wt5_fhb__entry__1 ">
                <p class="p"><code class="ph codeph">ResponseSoapHeaders</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__table_y4s_wt5_fhb__entry__2 ">
                <p class="p">Response SOAP headers of type <code class="ph codeph">List&lt;XmlElement&gt;</code>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__table_y4s_wt5_fhb__entry__3 ">
                <p class="p">The property value is read-only, but you can modify the object it references.</p>
              </td>
            </tr>
          </tbody></table></div>
    <div class="p">The following table lists the output serialization property on <span class="keyword apiname">WsiInvocationContext</span> objects
      and whether the property is writable. The property is readable.<table class="table" id="c_jt3597493__table_cg5_wt5_fhb"><colgroup><col style="width:25%" /><col style="width:50%" /><col style="width:25%" /></colgroup><thead class="thead">
            <tr>
              <th class="entry" id="c_jt3597493__table_cg5_wt5_fhb__entry__1">
                <p class="p">Property</p>
              </th>
              <th class="entry" id="c_jt3597493__table_cg5_wt5_fhb__entry__2">
                <p class="p">Description</p>
              </th>
              <th class="entry" id="c_jt3597493__table_cg5_wt5_fhb__entry__3">
                <p class="p">Writable</p>
              </th>
            </tr>
          </thead><tbody class="tbody">
            <tr>
              <td class="entry" headers="c_jt3597493__table_cg5_wt5_fhb__entry__1 ">
                <p class="p"><code class="ph codeph">XmlSerializationOptions</code></p>
              </td>
              <td class="entry" headers="c_jt3597493__table_cg5_wt5_fhb__entry__2 ">
                <p class="p">XML serialization options of type <code class="ph codeph">XmlSerializationOptions</code>.</p>
              </td>
              <td class="entry" headers="c_jt3597493__table_cg5_wt5_fhb__entry__3 ">
                <p class="p">Yes</p>
              </td>
            </tr>
          </tbody></table></div>

<p class="p">You can use these properties to modify response headers from your web service and read request headers as needed.</p>
<p class="p">For example, suppose you want to copy
a specific request SOAP header XML object and copy to the response SOAP
header object. Create a private method to get a request SOAP header XML
object.</p>
<pre class="pre codeblock"><code>private function getHeader(name : QName, context : WsiInvocationContext) : XmlElement {
  for (h in context.RequestSoapHeaders.Children) {
    if (h.QName.equals(name)) {
      return h
    }
  }
  return null
}</code></pre>
<p class="p">From a web service operation method, declare the invocation context optional argument to your implementation class.
      You can then use code with the invocation context to get the incoming request header and add it to the response
      headers. The following code demonstrates this approach.</p>
<pre class="pre codeblock"><code>function doWork(..., context : WsiInvocationContext) {
  var rtnHeader = getHeader(TURNAROUND_HEADER_QNAME, context)
  context.ResponseSoapHeaders.add(rtnHeader)

  // Do the main work of your web service operation
}</code></pre>
</div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 20, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>