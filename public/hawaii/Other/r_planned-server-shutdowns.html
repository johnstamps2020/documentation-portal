
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="The Server Tools Cluster Members screen provides the ability to start a planned or scheduled shutdown of a specific server in the GenericCenter cluster. This action affects only the server on which ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="reference" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1" /><meta name="DC.language" content="en-US" /><title>About planned server shutdowns</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">About planned server shutdowns</h1>
  <div class="body refbody">
    <section class="section">
      <p class="p">The Server Tools <span class="ph uicontrol">Cluster Members</span> screen provides the ability to
        start a planned or scheduled shutdown of a specific server in the <span class="keyword">GenericCenter</span> cluster. This action affects only the server on which
        you start or stop the scheduled shutdown. The <span class="ph uicontrol">Actions</span> column of the
        <span class="ph uicontrol">Application Server Instances</span> table contains a button that toggles
        between <span class="ph uicontrol">Start planned shutdown</span> and <span class="ph uicontrol">Cancel planned
          shutdown</span>, depending on whether a server shutdown is currently scheduled.</p>
    </section>
    <section class="section"><h2 class="title sectiontitle">Scheduling a server shutdown</h2>
      <div class="p">Clicking <span class="ph uicontrol">Start planned shutdown</span> opens the <span class="ph uicontrol">Schedule
        Planned Shutdown</span> screen. From this screen, you can set the details of the
        planned server shutdown. In this screen, you need to set the following items:<table class="table frame-all" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_rpt_2yj_mdb"><colgroup><col /><col /></colgroup><tbody class="tbody">
              <tr>
                <td class="entry"><span class="first-in-cell">Banner text</span></td>
                <td class="entry"><span class="first-in-cell">Choose the text of the banner message to show on the </span><span class="keyword">GenericCenter</span> screen to warn users of the server shutdown.
                  The banner message occurs immediately as you schedule the shutdown and contains a
                  countdown to the time of the scheduled shutdown. You can choose from several
                  listed messages or create your own custom message.</td>
              </tr>
              <tr>
                <td class="entry"><span class="first-in-cell">Shutdown date and time</span></td>
                <td class="entry"><span class="first-in-cell">Set the date and time of the server shutdown.</span></td>
              </tr>
              <tr>
                <td class="entry"><span class="first-in-cell">Action to take with respect to running batch processes</span></td>
                <td class="entry"><span class="first-in-cell">Decide how to handle any currently running batch processes</span></td>
              </tr>
            </tbody></table></div>
      <div class="p">After you initiate a scheduled shutdown, <span class="keyword">GenericCenter</span> does
        the following on the affected server:<ul class="ul" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__ul_zz4_fcl_mdb">
          <li class="li">It does not start any new batch processes.</li>
          <li class="li">It manages the stopping of any currently running batch processes depending on the
            setting for <span class="ph uicontrol">Terminate Batch Processes</span> field.</li>
          <li class="li">It requests that all work queues and message destinations stop processing
            immediately.</li>
          <li class="li">It completes the transmission of any current messages without starting any new message
            transmissions.</li>
          <li class="li">It completes the processing of any current work items without beginning work on any
            new work items.</li>
        </ul>
</div>
      <div class="p">After you click <span class="ph uicontrol">OK</span> in the <span class="ph uicontrol">Schedule Planned
        Shutdown</span> confirmation dialog, <span class="keyword">GenericCenter</span>
        reopens the <span class="ph uicontrol">Cluster Members</span> screen. In this screen, you now see the
        following:<ul class="ul" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__ul_vz5_1gl_mdb">
          <li class="li">The <span class="ph uicontrol">Actions</span> entry for the affected server contains a
            <span class="ph uicontrol">Cancel planned shutdown</span> button.</li>
          <li class="li">The <span class="ph uicontrol">Planned Shutdown</span> entry for the affected server provides
            information about the planned shutdown.</li>
          <li class="li">The screen contains a banner with the chosen shutdown message and a countdown timer to
            the server shutdown date and time.</li>
        </ul>
</div>
    </section>
    <section class="section"><h2 class="title sectiontitle">Shutdown message details</h2>
      <div class="p">You have several choices for shutdown messages in the <span class="ph uicontrol">Schedule Planned
        Shutdown</span> screen. If you do not elect to create a custom message, you can
        select one of several default messages. <span class="keyword">GenericCenter</span> stores
        these messages as display keys in file <span class="ph filepath">display.properties</span>.<table class="table frame-all" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_ynj_gnn_ndb"><colgroup><col /><col /></colgroup><tbody class="tbody">
              <tr>
                <td class="entry"><code class="ph codeph">Web.TabBar.SystemAlertBar.PlannedShutdown.RollingUpgradeMessage</code></td>
                <td class="entry"><span class="first-in-cell">Rolling upgrade in progress, please save your work and log out to redirect to
                  a new server.</span></td>
              </tr>
              <tr>
                <td class="entry"><code class="ph codeph">Web.TabBar.SystemAlertBar.PlannedShutdown.ScaleInMessage</code></td>
                <td class="entry"><span class="first-in-cell">Please save your work and log out to re-direct to the new server.</span></td>
              </tr>
            </tbody></table></div>
      <div class="p">After you initiate a planned shutdown, <span class="keyword">GenericCenter</span> stores
        only the current time and the shutdown time in the database. It stores other information,
        such as the shutdown message itself, in a single-threaded atomic reference in memory.
        <span class="keyword">GenericCenter</span> clears this message reference under the
        following conditions:<ul class="ul" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__ul_al5_4ln_ndb">
          <li class="li">At the restart of the shutdown <span class="keyword">GenericCenter</span> server</li>
          <li class="li">At the cancellation of the planned server shutdown</li>
        </ul>
</div>
    </section>
    <section class="section"><h2 class="title sectiontitle">Logging into <span class="keyword">GenericCenter</span> during a planned server
        shutdown</h2>
    <p class="p">Guidewire does not restrict the ability of a credentialed user to log into a <span class="keyword">GenericCenter</span> server that is undergoing a planned shutdown. However,
        upon logging into the server, that user sees the alert banner that a planned shutdown is in
        progress with a message instructing the user to log out. If you want to redirect users away
        from the server undergoing shutdown, Guidewire recommends that you delegate this function in
        the load balancer configuration. </p></section>
    <section class="section"><h2 class="title sectiontitle">Terminating running batch processes</h2>
      <div class="p">The <span class="ph uicontrol">Schedule Planned Shutdown</span> screen contains a <span class="ph uicontrol">Terminate
        Batch Processes</span> checkbox. <span class="keyword">GenericCenter</span>
        terminates the running batch processes differently depending how you set this field. <table class="table frame-all" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_lhj_5zj_mdb"><colgroup><col /><col /></colgroup><thead class="thead">
              <tr>
                <th class="entry" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_lhj_5zj_mdb__entry__1"><span class="ph uicontrol">Terminate Batch Processes</span></th>
                <th class="entry" id="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_lhj_5zj_mdb__entry__2"><span class="first-in-cell">Result</span></th>
              </tr>
            </thead><tbody class="tbody">
              <tr>
                <td class="entry" headers="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_lhj_5zj_mdb__entry__1 "><span class="first-in-cell">Checked</span></td>
                <td class="entry" headers="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_lhj_5zj_mdb__entry__2 "><span class="keyword">GenericCenter</span> sets a flag on all currently
                  running batch processes (including workqueue writers) assigned to this server to
                  terminate their operation. To the extent that the batch process logic permits, the
                  process attempts to stop as gracefully and as safely as possibly.</td>
              </tr>
              <tr>
                <td class="entry" headers="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_lhj_5zj_mdb__entry__1 "><span class="first-in-cell">Unchecked</span></td>
                <td class="entry" headers="xd_88692ccd77b0a96e--c1a9526-16231d1d963--7ac1__table_lhj_5zj_mdb__entry__2 "><span class="keyword">GenericCenter</span> does not instruct the currently
                  running batch processes on this server to terminate prematurely. All batch
                  processes assigned to this server continue until completed, regardless of how long
                  it takes to complete the work.</td>
              </tr>
            </tbody></table></div>
      <p class="p">In either case, <span class="keyword">GenericCenter</span> does not show a
        <span class="ph uicontrol">Planned Shutdown</span> status of ready on the <span class="ph uicontrol">Cluster
          Members</span> screen until all the affected processes have stopped on the server. </p>
      <div class="p">
        <div class="note note note_note"><span class="note__title">Note:</span> Batch processes run as non-daemon threads. As such, it is not possible for the server
          to perform a graceful shutdown if any batch processes are still running on the server at
          the time of the shutdown.</div>
      </div>
    </section>
    <section class="section"><h2 class="title sectiontitle">Using system tools to schedule a shutdown</h2>
      <div class="p">It is also possible to initiate a scheduled shutdown of a server using either the
        <span class="keyword apiname">SystemToolsAPI</span> web service or its associated
        <span class="keyword cmdname">system_tools</span> command prompt option. For example, the
        <span class="keyword cmdname">system_tools</span> command uses the following syntax:<ul class="sl simple">
          <li class="sli">
            <code class="ph codeph">system_tools -user <var class="keyword varname">user</var> -password <var class="keyword varname">password</var>
              -scheduleshutdown serverId [-terminatebatchprocesses -shutdowndelay
              <var class="keyword varname">minutes</var>]</code></li>
        </ul>
</div>
      <p class="p">If you include the <span class="keyword option">-terminatebatchprocess</span> command option, the shutdown
        process is the same as if you checked the <span class="ph uicontrol">Terminate Batch Processes</span>
        check box in the <span class="ph uicontrol">Schedule Planned Shutdown</span> screen.</p>
      <p class="p">For more information on the use of the <span class="keyword cmdname">system_tools</span> command, see <a class="xref" href="r_ho1350094.html#r_ho1350094">system_tools command</a>. For information on the use of the
          <span class="keyword apiname">SystemToolsAPI</span> web service, see the <span class="keyword">GenericCenter</span>
        <cite class="cite"><span class="keyword">Integration Guide</span></cite>. </p>
    </section>
  </div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 21, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>