
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="To support parameterized methods that reify the generic type, Gosu provides the keyword reified . This keyword instructs Gosu to make information about the runtime type of the type parameter ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="concept" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="xd_aa8c6c5ac87215fa-5630bea7-164623e2565--7dd4" /><meta name="DC.language" content="en-US" /><title>Generic methods that reify a type</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="xd_aa8c6c5ac87215fa-5630bea7-164623e2565--7dd4" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Generic methods that reify a type</h1>
  <div class="body conbody">
    <p class="p">To support parameterized methods that reify the generic type, Gosu provides the keyword
        <span class="keyword apiname">reified</span>. This keyword instructs Gosu to make information about the runtime type of the type
      parameter available. Gosu requires the keyword <span class="keyword apiname">reified</span> as a modifier on generic functions that
      are equivalent to parameterized Java functions that have type erasure. Use the modifier <span class="keyword apiname">reified</span>
      on a parameterized function that has any of the following characteristics, where <span class="keyword parmname">T</span> is the
      token for the type parameter of a generic type:</p>
    <section class="section">
      <ul class="ul" id="xd_aa8c6c5ac87215fa-5630bea7-164623e2565--7dd4__d762e18">
        <li class="li">The method uses the <span class="keyword apiname">new</span> keyword to create an instance of <span class="keyword parmname">T</span>.</li>
        <li class="li">The method uses the <span class="keyword apiname">new</span> keyword to create an instance of a generic type and includes the
            <code class="ph codeph">&lt;T&gt;</code> qualifier on the type name.</li>
        <li class="li">An expression in the method uses the generic type with the <span class="keyword apiname">typeis</span> or
            <span class="keyword apiname">typeof</span> operator.</li>
        <li class="li">The method contains code that uses <code class="ph codeph">as <span class="keyword parmname">T</span></code> to cast a value to the generic
          type.</li>
        <li class="li">The method overrides a reified method in a parent class or implements a reified method in an interface.</li>
        <li class="li">The method calls another reified method and passes an argument of a generic type to that method.</li>
      </ul>

      <p class="p">The modifier <span class="keyword apiname">reified</span> is optional on a parameterized method that does not have any of these
        characteristics.</p>
      <p class="p">Gosu forbids the modifier <span class="keyword apiname">reified</span> on methods that are not generic.</p>
    </section>
    <section class="section">
      <p class="p">For a function that requires this modifier, the signature looks like the following examples:</p>
      <pre class="pre codeblock"><code>reified function cast&lt;N&gt;(type : Type&lt;N&gt;) : List&lt;N&gt;
reified function partition&lt;Q&gt;( partitioner(elt : T):Q ) : Map&lt;Q, List&lt;T&gt;&gt;
static reified function returnLast&lt;T&gt;(a : ArrayList&lt;T&gt;) : T</code></pre>
      <p class="p">Although some parameterized functions do not require the <code class="ph codeph">reified</code> keyword, good practice is to
        make such methods reified. Using the <code class="ph codeph">reified</code> keyword prevents error conditions if future
        changes to the code in the method or code that overrides the method cause reification of the parameterized
        type.</p>
    </section>
    <section class="section"><h2 class="title sectiontitle">Using a generic collection in a generic method</h2>
      
      <p class="p">A generic method that uses <code class="ph codeph">new</code> to create a generic collection requires the
          <code class="ph codeph">reified</code> keyword only if the method instantiates an object of the generic type. The
          <code class="ph codeph">reified</code> keyword is optional if the new collection is empty. In this case, Gosu does not
        require the type of the collection. The <code class="ph codeph">reified</code> keyword is also optional if the method
        populates the collection with existing objects. In this case, Gosu infers the type of the collection from the
        types of the objects. For example:</p>
      <pre class="pre codeblock"><code>// reified is optional because the ArrayList is empty
reified function emptyListE&lt;E&gt;() : List&lt;E&gt; {
  return new ArrayList&lt;E&gt;()
}

// reified is optional because the code populates the ArrayList with an existing object
function oneListFromE&lt;E&gt;(e : E) : List&lt;E&gt; {
  return new ArrayList&lt;E&gt;({e})
}

// reified is required because the code creates a new object of type E to populate the ArrayList
reified function oneListE&lt;E&gt;() : List&lt;E&gt; {
  return new ArrayList&lt;E&gt;({new E()})
}</code></pre>
    </section>
    <div class="example"><h2 class="title sectiontitle">Example: Basic use of a reified method</h2>
      
      <p class="p">In the following code, the class is not parameterized but one method is parameterized. Casting
          <code class="ph codeph">this</code> to <span class="keyword parmname">T</span> requires the method to be reified:</p>
      <pre class="pre codeblock"><code>class BasicReificationTester {
  public reified function returnAsT&lt;T&gt;(a : ArrayList&lt;T&gt;) : T {
    return this <strong class="ph b">as T</strong>
  }
}</code></pre>
      <p class="p">In the method’s Gosu code, the symbol <span class="keyword parmname">T</span> is used as a type. Gosu matches
          <span class="keyword parmname">T</span> to the type of the collection passed into the method.</p>
      <p class="p">The following code uses this class and the reified method:</p>
      <pre class="pre codeblock"><code>var myStrings = new ArrayList&lt;String&gt;(){"a", "abcd", "ab", "123"}
var t = new BasicReificationTester()
var stringT = t.returnAsT(myStrings)

print("Returned item type: " + typeof stringT)</code></pre>
      <p class="p">The variable <code class="ph codeph">stringT</code> is strongly typed as <code class="ph codeph">String</code>, not
        <code class="ph codeph">Object</code>.</p>
    </div>
    <div class="example"><h2 class="title sectiontitle">Example: Reification by accessing type properties</h2>
      
      <p class="p">Accessing Gosu properties of the parameterized type requires reification. The following method accesses a Gosu
        property of the <var class="keyword varname">T</var> type and requires the <code class="ph codeph">reified</code> keyword:</p>
      <pre class="pre codeblock"><code>reified function typeofClassT&lt;T&gt;(t : T) {
  var typ = T<strong class="ph b">.TypeInfo</strong>
}</code></pre>
    </div>
    <div class="example"><h2 class="title sectiontitle">Example: Parameterized method that does not require the <code class="ph codeph">reified</code> keyword</h2>
      
      <p class="p">The following method is parameterized but does not require reification, so the <code class="ph codeph">reified</code> keyword
        is optional:</p>
      <pre class="pre codeblock"><code>// Return whether the argument is a String
public function isStringType&lt;T&gt;(t : T) : boolean {
  return t typeis String
}</code></pre>
      <p class="p">If future code changes to the code in this method or code that overrides this method cause reification to be
        necessary, the methods would not compile. Good practice is to use the <code class="ph codeph">reified</code> keyword.</p>
      <pre class="pre codeblock"><code>// Return whether the argument is a String
public <strong class="ph b">reified</strong> function isStringType&lt;T&gt;(t : T) : boolean {
  return t typeis String
}</code></pre>
    </div>
    <div class="example"><h2 class="title sectiontitle">Example: Another parameterized method that does not require the <code class="ph codeph">reified</code> keyword</h2>
      
      <p class="p">In the following example, the class <span class="keyword apiname">Genericstest</span> is parameterized:</p>
      <pre class="pre codeblock"><code>class GenericsTest&lt;T&gt; {
  // Print out (for debugging) and then return the first item in the list, strongly typed
  public function printAndReturnFirst(aList : ArrayList&lt;T&gt;) : T {
    print(aList[0])
    return aList[0] 
  }
}</code></pre>
      <p class="p">The following method is parameterized but does not require reification, so the <code class="ph codeph">reified</code> keyword
        is optional:</p>
      <pre class="pre codeblock"><code>// Create an unspecified type of GenericsTest
public function makeANewGenericOfUnspecifiedType&lt;T&gt;(aList : ArrayList&lt;T&gt;) {
  var x = new GenericsTest().printAndReturnFirst(aList)
}</code></pre>
      <p class="p">Because the code does not specify the type of <span class="keyword apiname">GenericsTest</span>, Gosu uses the the lowest
        possible bound of <span class="keyword apiname">GenericsTest</span> for the type of the variable <var class="keyword varname">x</var>, which is
          <span class="keyword apiname">Object</span>.</p>
      <p class="p">If future modifications to the code in this method or code that overrides this method cause reification to be
        necessary, the methods would not compile. Good practice is to use the <code class="ph codeph">reified</code> keyword.</p>
    </div></div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 21, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>