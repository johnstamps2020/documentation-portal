
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="After an integration project is finished and stable, the XML and XSD schema files that are created during WSDL code generation rarely change. Instead of having each build recreate these static files, ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="concept" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="c_jt3915911" /><meta name="DC.language" content="en-US" /><title>Creating an XML Schema JAR file</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="c_jt3915911" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="c_jt3915911__jt3915911">

  <h1 class="title topictitle1" id="c_jt3915911__jt3915911">Creating an XML Schema JAR file</h1>
  <div class="body conbody">
    <p class="p">After an integration project is finished and stable, the XML and XSD schema files that are
      created during WSDL code generation rarely change. Instead of having each build recreate these
      static files, the files can be created a single time and stored in a Schema JAR file. This JAR
      file is made available to all developers for general access. Subsequent builds use the
      contents of the preprocessed JAR file to reduce build times.</p>
    <p class="p">The Schema JAR file can contain the following types of resources.</p>
    <ul class="ul">
      <li class="li">XML and XSD schema files created during WSDL code generation</li>
      <li class="li">WSDL and XSD resources retrieved from remote servers by using Web Service
        Collections.</li>
      <li class="li">Third-party XML and XSD schema files</li>
    </ul>

    <p class="p">The Schema JAR file cannot contain the XML and XSD schema files associated with a GX model.</p>
    <p class="p">The Schema JAR file can be created from the command line by running the <span class="keyword cmdname">gwb</span> command with the
        <code class="ph codeph">genSchemaJar</code> task.</p>
    <pre class="pre codeblock"><code>gwb genSchemaJar</code></pre>
    <section class="section"><h2 class="title sectiontitle">Unversioned and versioned Schema JAR file usage</h2>
      
      <p class="p">One way to use the Schema JAR file is to make it available in source control as an
        unversioned file. In such a situation, integration developers who edit the JAR file’s
        contents also coordinate the JAR builds. They check into source control the built JAR file
        and its individual component files. The non-integration developers never build the JAR file
        themselves. Instead, they pull the latest JAR file from source control.</p>
      <p class="p">Another way to use the Schema JAR file is to make a new JAR file for each change in its
        contents. To distinguish the versions, the version string is included in the JAR file name.
        Integration developers are responsible for generating the JAR file and including the
        appropriate version ID in its name. Non-integration developers retrieve the required version
        of the JAR file when they pull it from source control.</p>
    </section>
    <section class="section"><h2 class="title sectiontitle">Enable and configure the <code class="ph codeph">genSchemaJar</code> task</h2><p class="p">By default, the
          <code class="ph codeph">genSchemaJar</code> task is not enabled in the <span class="keyword cmdname">gwb</span> command. Perform the following
        steps to enable the task.</p>
      <ol class="ol">
        <li class="li">In the <code class="ph codeph">settings.gradle</code> file located in the <span class="keyword">GenericCenter</span> installation directory, uncomment the line to include the Schemas
          module.</li>
        <li class="li">In the <code class="ph codeph">build.gradle</code> file located in the
            <span class="ph filepath">modules/configuration</span> directory, uncomment the block of lines that supports the Schema
          module.</li>
        <li class="li">In the <span class="ph filepath">gwxmlmodule.xml</span> file located in the
            <span class="ph filepath">modules/configuration/res</span> directory, uncomment the dependency line that supports the
            <code class="ph codeph">genSchemaJar</code> task.</li>
      </ol>
      <p class="p">The heap memory usage for the <code class="ph codeph">genSchemaJar</code> task can be configured by setting the following
        values in the <span class="ph filepath">gradle.properties</span> file. The <span class="ph filepath">gradle.properties</span> file is
        located in the <span class="keyword">GenericCenter</span> installation directory.</p>
      <ul class="ul">
        <li class="li"><code class="ph codeph">custDistJavaCompileSchemaSourcesMinHeapSize</code> – Minimum JVM heap
          size when performing the <code class="ph codeph">genSchemaJar</code> task. Default is eight gigabytes.</li>
        <li class="li"><code class="ph codeph">custDistJavaCompileSchemaSourcesMaxHeapSize</code> – Maximum JVM heap
          size when performing the <code class="ph codeph">genSchemaJar</code> task. Default is 16 gigabytes.</li>
      </ul>
</section>




    <section class="section"><h2 class="title sectiontitle">Create the Schema JAR file</h2><p class="p">Perform the following steps to create the Schema JAR file.</p>
      <ol class="ol">
        <li class="li">Move the XML, XSD schema, and other resource files to include in the JAR file to a
          directory of your choice in the <code class="ph codeph">modules/schemas/gsrc</code> tree hierarchy.</li>
        <li class="li">Create the Schema JAR file by running the <code class="ph codeph">gwb genSchemaJar</code>
          task.<pre class="pre codeblock"><code>gwb genSchemaJar</code></pre></li>
      </ol>
      <p class="p">The Schema JAR file is a dependency for building the Configuration module. The Configuration module is built by
        running the <code class="ph codeph">gwb compile</code> task.</p>
      <pre class="pre codeblock"><code>gwb compile</code></pre></section>



    <section class="section"><h2 class="title sectiontitle">Modify the Schema JAR file contents</h2><p class="p">If any file stored in the Schema JAR file requires
        editing, the following workflow must be performed.</p>
      <ol class="ol">
        <li class="li">Before editing a file stored in the Schema JAR file, move the file back to its
          original location in the Configuration module.</li>
        <li class="li">Recreate the Schema JAR file without the moved file.</li>
        <li class="li">Rebuild the Configuration module using the recreated Schema JAR file.</li>
      </ol>
      <p class="p">The file can now be edited.</p>
      <p class="p">When all changes are complete, the edited file can be restored to the JAR file by moving it back to the JAR
        directory. Then rebuild the JAR file and Configuration module.</p></section>

    <section class="section"><h2 class="title sectiontitle">Support versioned Schema JAR file usage</h2>
      <p class="p">Optionally, you can add support in the build process for a versioned Schema JAR file.</p>
      <p class="p">Edit the following files.</p>
      <ul class="ul">
        <li class="li">In the <code class="ph codeph">build.gradle</code> file located in the <span class="keyword">GenericCenter</span>
          installation directory, append the following lines to the end of the
          file.<pre class="pre codeblock"><code>ext {
  xmlSchemaVersion = "1.0.0"
  xmlSchemaJarFilename = "gw-xml-schemas-${xmlSchemaVersion}.jar".toString()
}</code></pre></li>

        <li class="li">In the <code class="ph codeph">build.gradle</code> file located in the <span class="ph filepath">modules/schemas</span> directory,
          append the following lines to the end of the
          file.<pre class="pre codeblock"><code>afterEvaluate {
  tasks.genSchemaJar.conventionMapping.archiveName = { xmlSchemaJarFilename }
}</code></pre></li>

        <li class="li">In the <code class="ph codeph">build.gradle</code> file located in the <span class="ph filepath">modules/configuration</span>
          directory, modify the <code class="ph codeph">genSchemaJar</code>
          <code class="ph codeph">dependencies</code> block to reference the versioned file name, as shown
          below.<pre class="pre codeblock"><code>dependencies {
  task (‘:modules:schemas:genSchemaJar’)
  compile files(xmlSchemaJarFilename)
  schemajars files(xmlSchemaJarFilename)
}</code></pre></li>

      </ul>

      <p class="p">Whenever the JAR version changes, the Studio project must be regenerated to retrieve the new dependency for the
        Configuration module. Regenerate the Studio project by running <code class="ph codeph">gwb idea</code> on the command line.
        Alternatively, regenerate the project in Studio by selecting <span class="ph menucascade"><span class="ph uicontrol">Tools</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Generate Project</span></span>. Afterward, create the Schema JAR by running <code class="ph codeph">gwb genSchemaJar</code>. Finally, build
        the application by either running <code class="ph codeph">gwb compile</code> on the command line or selecting <span class="ph menucascade"><span class="ph uicontrol">Build</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Rebuild Project</span></span> in Studio.</p></section>




    <section class="section"><h2 class="title sectiontitle">Publish versioned Schema JAR file to artifact repository</h2><p class="p">The Schema JAR file can be
        versioned and published to an artifact repository. Integration developers handle the versioning and publishing
        operations. Non-integration developers retrieve from source control the latest files that specify the required
        version. The next build pulls that version from the repository.</p>
      <p class="p">In the following example, support is added to the build process to create and publish a versioned Schema JAR
        file. The version string is not included as part of the JAR file name. The JAR is published to a Maven
        repository.</p>
      <ul class="ul">
        <li class="li">In the <code class="ph codeph">build.gradle</code> file located in the <span class="keyword">GenericCenter</span>
          installation directory, append the following lines to the end of the
          file.<pre class="pre codeblock"><code>ext {
  xmlSchemaVersion = "1.0.0"
  xmlSchemaGroupId = ‘com.myinsuranceco.cc’
  xmlSchemaArtifactId = ‘schemas’
  xmlSchemaJarFilename = ‘gw-xml-schemas.jar".toString()
}</code></pre></li>
        <li class="li">In the <code class="ph codeph">build.gradle</code> file located in the
            <span class="ph filepath">modules/schemas</span> directory, add the following line after the existing
            <code class="ph codeph">apply plugin</code> lines.<pre class="pre codeblock"><code>apply plugin: ‘maven-publish’</code></pre></li>
        <li class="li">In the same file, add the following lines after the closure of the
            <code class="ph codeph">tasks.compileSchemaSources.options.with</code> block. Replace the Maven repository
            <code class="ph codeph">url</code> reference in the example with the URL of your own
          repository.<pre class="pre codeblock"><code>group = xmlSchemaGroupId
  version = xmlSchemaVersion
  artifacts {
    archives genSchemaJar
  }
  publishing {
    publications {
      maven(MavenPublication) {
        artifact genSchemaJar
      }
    }
    repositories {
      maven { url ‘http://nexus.myinsuranceco.com/content/repositories/releases’ }
    }
  }</code></pre></li>
        <li class="li">In the <code class="ph codeph">build.gradle</code> file located in the <span class="ph filepath">modules/configuration</span>
          directory, add the following lines after the closure of the <code class="ph codeph">genSchemaJar</code>
          <code class="ph codeph">dependencies</code> block. Replace the Maven repository <code class="ph codeph">url</code> reference in the
          example with the URL of your own
          repository.<pre class="pre codeblock"><code>repositories {
  maven { url ‘http://nexus.myinsuranceco.com/content/repositories/releases’ }
  mavenLocal()   // Used by integration developers only.
}

def xmlSchemasArtifact = "${xmlSchemaGroupId}:${xmlSchemaArtifactId}:${xmlSchemaVersion}".toString()

dependencies {
  compile(xmlSchemasArtifact)
  schemajars(xmlSchemasArtifact)
}</code></pre></li>
        <li class="li">If the referenced Maven <code class="ph codeph">url</code> repository is not a local repository
          used for files under development, perform the following step. <ul class="ul">
            <li class="li">Edit the <code class="ph codeph">gwb</code> and <span class="ph filepath">gwb.bat</span> files
              located in the <span class="keyword">GenericCenter</span> installation directory to remove all references
              to the <code class="ph codeph">--offline</code> argument.</li>
          </ul>
</li>
      </ul>

      <p class="p">To publish a new JAR version, perform the following steps.</p>
      <ol class="ol">
        <li class="li">Regenerate the Studio project by running <code class="ph codeph">gwb idea</code>.</li>
        <li class="li">Rebuild the Schema JAR file by running <code class="ph codeph">gwb genSchemaJar</code>.</li>
        <li class="li">Publish the JAR to the local Maven repository by running
            <code class="ph codeph">gwb modules:schemas:publishToMavenLocal</code>. During development of the JAR, continue publishing
          it to this local repository.</li>
        <li class="li">Rebuild the application using the published JAR by running
            <code class="ph codeph">gwb compile</code>.</li>
        <li class="li">When the Schema JAR is ready to be released, publish it to the main Maven
          repository by running <code class="ph codeph">gwb modules:schemas:publish</code>. Then check the build files into source
          control with the updated version number.</li>
      </ol>
      <p class="p">Whenever a new JAR version is pulled from the repository, the Studio project must be regenerated to retrieve
        the new dependency for the Configuration module. Regenerate the Studio project by running
          <code class="ph codeph">gwb idea</code> on the command line. Alternatively, regenerate the project in Studio by selecting <span class="ph menucascade"><span class="ph uicontrol">Tools</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Generate Project</span></span>. Afterward, create the Schema JAR by running <code class="ph codeph">gwb genSchemaJar</code>. Finally, build
        the application by either running <code class="ph codeph">gwb compile</code> on the command line or selecting <span class="ph menucascade"><span class="ph uicontrol">Build</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Rebuild Project</span></span> in Studio.</p></section>
  </div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 21, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>