
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><link rel="shortcut icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><link rel="icon" href="../oxygen-webhelp/template/resources/images/webpagelogo.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="The following sequence describes the high-level integration flow for archival storage. The BillingCenter Archive batch process runs. The batch process examines each policy period instance and ..." /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.type" content="reference" /><meta name="DC.format" content="HTML5" /><meta name="DC.identifier" content="r_gd2206906" /><meta name="DC.language" content="en-US" /><title>Basic integration flow for archiving storage</title><!--  Generated with Oxygen version 21.1, build number 2019083011.  --><meta name="wh-path2root" content="../" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/arial-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-regular.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-light-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-extralight-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-black-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/sourcesanspro-semibold-webfont.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/AvenirNextLTPro-Regular.woff" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/fonts/cour.woff2" as="font" /><link rel="preload" href="../oxygen-webhelp/template/resources/js/simplebar.js" as="script" /><link rel="preload" href="../oxygen-webhelp/template/resources/css/simplebar.min.css" as="style" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/dharmachakra.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/chevron-right.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/share-alt.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/print-solid.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/times.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/angle-double-left.svg" as="image" /><link rel="preload" href="../oxygen-webhelp/template/resources/images/note.svg" as="image" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css?buildId=20191106" /><link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css?buildId=20191106" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2019083011" /><script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.4.1.min.js?buildId=20191106"><!----></script><script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script><link rel="preload" href="" as="document" /><link rel="preload" href="" as="document" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/resources/css/Guidewire-whr.css?buildId=2019083011" /></head>
    
    <body id="r_gd2206906" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header navbar-fixed-top" id="affix1">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../index.html" class=" wh_logo not-hidden-xs "><img src="../oxygen-webhelp/template/resources/images/Guidewire_mini_logo.jpg" alt="Hawaii Documentation Demo" /></a>
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title">Hawaii Documentation Demo</span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
				
                
                
            </div>
			<!-- <div class="publicationDropDown">This Publication</div> -->
			<div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div></form></div>
			<div id="userAccount">
			<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span>
            <!--<span id="accountInfo"></span>-->            
            <span class="dropdown" id="show_profile" style="display: none;">
                <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="fas fa-dharmachakra"></span></button>
                <ul class="dropdown-menu">
                    <li class="avatar_userName"></li>
                    <li class="divider" id="divider-admin"></li>
                    <li><a href="#" id="bt_editProfile">Edit</a></li>
                    <li><a href="#" id="bt_logOff">Logout</a></li>
                </ul>
            </span>
            
            </div>
			<!-- <div class="Login">
				<span>
				<i class="fas fa-dharmachakra" id="bt_logIn"></i>
			</span></div> -->
        </div>
    </div>
</header>
        
        <!--<whc:webhelp_search_input/>-->
        
        <div class="container-fluid">
            <div class="row navbar navbar-fixed-top" id="affix2">
                <nav class="wh_tools hidden-print">
                    <span class="openNav" type="button" aria-expanded="true"><i class="fas fa-bars"></i></span>
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "></div>
                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links_header" class="navheader"></span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <!--<whc:webhelp_expand_collapse_sections/>-->
                        <span class=" shareLink share "><a class="button fas fa-share-alt" data-sharer="email" data-title="" data-url="" data-subject="" data-to="" title="Share this page" aria-label="Share this page" href=""></a></span>
                        <!-- <whc:webhelp_pdf_link class="pdf"/> -->
                        <span class=" whPrintLink print "><button class="fas fa-print fa-1x" onClick="window.print()" title="Print this page" aria-label="Print this page"></button></span>
                    </div>
                </nav>
            </div>
            
            <div class="wh_content_area">
                <div class="row justify-content-lg-end">
                    
                    
                    <div id="wh_topic_body" class="col-lg-6 col-md-9 col-sm-9 col-xs-12"><!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="r_gd2206906__gd2206906">

<h1 class="title topictitle1" id="r_gd2206906__gd2206906">Basic integration flow for archiving storage</h1>
<div class="body refbody">
<section class="section">
<p class="p">The following sequence describes the high-level
integration flow for archival storage.</p>
<ol class="ol"><li class="li">The BillingCenter
Archive batch process runs. </li><li class="li">The batch process
examines each policy period instance and determines whether the policy
period meets the criteria necessary for <span class="keyword">GenericCenter</span> to archive that period.
</li><li class="li">BillingCenter
encodes each eligible instance of the <code class="ph codeph">PolicyPeriod</code>
graph into an in-memory XML representation.</li><li class="li"><span class="keyword">GenericCenter</span> serializes each XML
document.</li><li class="li"><span class="keyword">GenericCenter</span> calls the archive source plugin
          that you created to store the data.</li><li class="li">The Archive Source
plugin sends archival data to an external system. <div class="note important note_important"><span class="note__title">Important:</span> Your implementation
of this plugin interface must connect to your own archive backing store.</div></li><li class="li">BillingCenter freezes
any non-archived data entity if that entity has one or more of its associated
entities removed during archiving. </li><li class="li">BillingCenter
replaces some of the financial data removed from the database during
the archiving process with special archive transactions to ensure that
the BillingCenter T-accounts remain in balance.</li><li class="li">BillingCenter
deletes the archived policy period data from the database.</li><li class="li">The BillingCenter
Archive batch process runs. </li><li class="li">ClaimCenter determines
whether to skip or exclude claims from archiving. <p class="p">To determine what claims to skip
or exclude, ClaimCenter runs the archiving rule set. ClaimCenter uses
the following entities and properties to determine archive eligibility:</p><ul class="ul">
<li class="li"><code class="ph codeph">ClaimInfo.ExcludedFromArchive</code>
- Boolean flag that if set to <code class="ph codeph">true</code>
prevents ClaimCenter from even attempting to archive the claim. If the
value is <code class="ph codeph">true</code>, ClaimCenter
skips the claim and does not run the archiving rule set for this claim
again until this flag is reset to <code class="ph codeph">false</code>.
For an excluded claim, the <code class="ph codeph">ClaimInfo.ExcludedReason</code>
property contains a <code class="ph codeph">String</code>
that describes the reason for the exclusion.</li>
<li class="li"><code class="ph codeph">Claim.DateEligibleForArchive</code> -
Date that determines the earliest archive eligibility. If the current
date is before this date, ClaimCenter does not attempt to archive the
claim nor does it run the archiving rule set for this claim.</li>
</ul>
</li><li class="li">ClaimCenter encodes
the claim into an in-memory XML representation for one XML document.</li><li class="li"><span class="keyword">GenericCenter</span> serializes each XML
document.</li><li class="li"><span class="keyword">GenericCenter</span> calls the archive source plugin
          that you created to store the data.</li><li class="li">The archive source
plugin sends archival data to an external system. <div class="note important note_important"><span class="note__title">Important:</span> Your implementation
of this plugin interface must connect to your own archive backing store.</div></li><li class="li">ClaimCenter deletes
the claim and all its subtypes but preserves the root <span class="keyword apiname">ClaimInfo</span> entity. This stub entity
represents the original claim but contains only high-level information
for the claim.</li><li class="li">The PolicyCenter Archive Policy Term work queue runs. </li><li class="li">PolicyCenter
determines the set of <span class="keyword apiname">PolicyPeriod</span>
entity instances that need archiving. To determine what <span class="keyword apiname">PolicyPeriod</span> entity instances
to skip, PolicyCenter uses the following properties:<ul class="ul"><li class="li"><code class="ph codeph">PolicyTerm.NextArchiveCheckDate</code>
- Date that determines the earliest archive eligibility. PolicyCenter
populates this property from calling the policy eligibility plugin. See
<a class="xref" href="c_gd2740266.html#c_gd2740266">Archiving eligibility plugin</a> for more information.</li><li class="li"><code class="ph codeph">PolicyPeriod.ExcludedFromArchive</code> - Boolean flag, which, if set to
                                                  <code class="ph codeph">true</code>, prevents PolicyCenter from
                                                  attempting to archive the policy period. If the
                                                  value is <code class="ph codeph">true</code>, PolicyCenter skips
                                                  the policy period and does not run the archiving
                                                  rule set for this policy period again until this
                                                  flag is reset to <code class="ph codeph">false</code>. For an
                                                  excluded policy period, the
                                                  <code class="ph codeph">PolicyPeriod.ExcludedReason</code>
                                                  property contains a string value that describes
                                                  the reason for the exclusion.</li></ul>
</li><li class="li">PolicyCenter performs
the following steps iteratively for each unarchived policy period in
the term. PolicyCenter chooses the next policy period in an order defined
by an internal algorithm. Only one policy period in a term archives at
any one time. If a policy period fails archiving, the rest of the policy
periods in that term remain unprocessed until an administrator fixes
the problem. For problems, the application sets the <code class="ph codeph">PolicyPeriod.ExcludedFromArchive</code>
Boolean property to <code class="ph codeph">true</code>
and sets the <code class="ph codeph">PolicyPeriod.ExcludeReason</code>
to a description <code class="ph codeph">String</code>.</li><li class="li"><span class="keyword">GenericCenter</span> encodes each instance
of the <code class="ph codeph">PolicyPeriod</code> graph
into an in-memory XML representation.</li><li class="li"><span class="keyword">GenericCenter</span> serializes each XML
document.</li><li class="li"><span class="keyword">GenericCenter</span> calls the archive source plugin
          that you created to store the data.</li><li class="li">The archive source
plugin sends archival data to an external system. <div class="note important note_important"><span class="note__title">Important:</span> Your implementation
of this plugin interface must connect to your own archive backing store.</div></li><li class="li">After archiving, PolicyCenter
deletes most <code class="ph codeph">PolicyPeriod</code>
subtypes. However, PolicyCenter retains the <span class="keyword apiname">PolicyPeriod</span> entity instance and
its associated entity instances of type <code class="ph codeph">EffectiveDatedFields</code> and <code class="ph codeph">Document</code>. Additionally, in certain
circumstances, PolicyCenter retains certain other entities. See <a class="xref" href="c_gd1463262.html#c_gd1463262">Archiving integration</a> for details.</li></ol>














</section>
</div>
</article></main></div>
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" class="col-lg-2 hidden-sm hidden-xs navbar hidden-print"> <!-- /*DOCS-323 WebHelp Feedback - Adjust column widths*/-->
                            <div></div>
                        </nav>
                    
                </div>
            </div>
        </div> 
        <nav class="navbar navbar-default wh_footer navbar-bottom">
  <div class=" footer-container text-center ">
    <p><span class="footercopyright">© 2019 Guidewire Software, Inc.</span><span class="footerDate">Published November 21, 2019</span></p>
  </div>
</nav>
        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <!-- <script src="${oxygen-webhelp-assets-dir}/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script> -->
        
    </body>
</html>